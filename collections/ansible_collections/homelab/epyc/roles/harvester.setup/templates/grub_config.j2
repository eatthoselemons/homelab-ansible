# GRUB configuration for {{ item.name }}
# Generated by Ansible for Harvester PCIe passthrough

GRUB_DEFAULT=0
GRUB_TIMEOUT=5
GRUB_DISTRIBUTOR="Harvester"
GRUB_CMDLINE_LINUX_DEFAULT="quiet"
GRUB_CMDLINE_LINUX="intel_iommu=on iommu=pt{% if item.pcie_devices is defined and item.pcie_devices | length > 0 %} vfio-pci.ids={{ item.pcie_devices | join(',') }}{% endif %}"

# Uncomment to enable BadRAM filtering
#GRUB_BADRAM="0x01234567,0xfefefefe,0x89abcdef,0xefefefef"

# Uncomment to disable graphical terminal
#GRUB_TERMINAL=console

# The resolution used on graphical terminal
GRUB_GFXMODE=1024x768x32

# Uncomment to disable generation of recovery mode menu entries
#GRUB_DISABLE_RECOVERY="true"

# Uncomment to get a beep at grub start
#GRUB_INIT_TUNE="480 440 1"